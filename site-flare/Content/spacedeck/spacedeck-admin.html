<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <div class="product-bar">
            <p><a>Smart DIH</a>
            </p>
        </div>
        <div class="product-bar">
            <p><a>Smart Cache</a>
            </p>
        </div>
        <map id="map1">
            <area shape="rectangle" coords="31,228,438,655" dragDirection="0" />
            <area shape="rectangle" coords="486,228,891,656" dragDirection="0" href="gs-ops-manager-cluster-overview.html" />
            <area shape="rectangle" coords="940,227,1349,656" dragDirection="0" />
        </map>
        <h1 class="tc-pagetitle">SpaceDeck – Administration</h1>
        <h1>Access the Administration Screen</h1>
        <p>If a user role is defined as an Admin, the Administration screens can be accessed via the cog at the bottom left hand corner.</p>
        <p>
            <div class="tc-admon-attention">
                <p>In order to create, delete or update Connection (Identify Provider) or Roles Management settings, the user should be assigned the appropriate role. These are specified below. <br />An explanation of all the available permissions can be found in the <MadCap:xref href="../security/security-overview.html">Security Overview</MadCap:xref> page.</p>
            </div>
        </p>
        <p MadCap:conditions="Version.16-3-only">
            <img src="../Resources/Images/SpaceDeck/SpaceDeck-Admin1.png" style="width: 930px;height: 453px;" />
        </p>
        <p MadCap:conditions="Version.16-4-born">
            <img src="../Resources/Images/SpaceDeck/16.4/MainMenu.png" style="width: 939px;height: 436px;" />
        </p>
        <div MadCap:conditions="Version.16-4-born">
            <p>Once in the Administration menu, version and license details will be displayed at the bottom right hand corner. </p>
            <p>The License Expiration appears <span class="tc-textred">in red</span> if the date is coming up soon.</p>
            <p>
                <img src="../Resources/Images/SpaceDeck/16.4/admin-details1.png" />
            </p>
        </div>
        <h1><a name="GeneralSetup"></a>General&#160;Setup </h1>
        <p>Populate the Connection fields in order to configure SSO login using a predefined IDP. </p>
        <p>For user management through the IDP, roles and groups are created and then certain roles can be assigned to the user, for example admin. Via SpaceDeck roles are then created with the same name which was created in the IDP  and <a href="spacedeck-admin.html#ResourceManagement">permissions</a> are then assigned accordingly for each role.</p>
        <div class="tc-admon-note">
            <p>Refer to <MadCap:xref href="spacedeck-idp-details.html">SpaceDeck SSO&#160;IDP&#160;Setup</MadCap:xref> for an example of IDP setup through <b>Okta</b> <MadCap:conditionalText MadCap:conditions="Version.16-3-died">and <b>Azure Active Directory</b></MadCap:conditionalText>.</p>
        </div>
        <div class="tc-admon-attention">
            <p>In order to be able to configure the <b>Connection (Identify Provider)</b> fields the user has to be assigned the specific permission of <b>Manager Identify Providers</b>, otherwise an error 403 (Forbidden) response will be displayed. </p>
            <p>An explanation of all the available roles and permissions can be found on the <MadCap:xref href="../security/security-overview.html">Security Overview</MadCap:xref> page.</p>
        </div>
        <p>
            <img src="../Resources/Images/SpaceDeck/SpaceDeck-Admin2.png" style="width: 1135px;height: 292px;" MadCap:conditions="Version.16-3-only" />
        </p>
        <p>
            <img src="../Resources/Images/SpaceDeck/16.4/Admin_Main.png" style="width: 1135px;height: 309px;" MadCap:conditions="Version.16-4-born" />
        </p>
        <h2><a name="IDPConnectionFields"></a>Connection Fields</h2>
        <ul>
            <li>
                <p><b>Provider type</b> – The protocol the IDP supports. Currently <MadCap:variable name="General.ProductNameIE" /> supports using any IDP that supports OpenID Connect (OIDC).</p>
            </li>
            <li>
                <p><b>Provider id</b> – This is a generic ID that will be used as a name for the auth-config creator.</p>
            </li>
            <li>
                <p><b>Redirect URIs</b> – Upon successful sign-in, this endpoing in our server will receive the data from the IDP.</p>
            </li>
            <li>
                <p><b>Issue&#160;URL</b> – URL&#160;of the IDP&#160;issuer. &#160;For example, Okta, JumpCloud, Azure Active Directory, Github.</p>
            </li>
            <li>
                <p><b>Client Id</b> – Unlike the Provider ID, this ID serves as a unique identifier which the IDP generates to the user so they can identify with it,</p>
            </li>
            <li>
                <p><b>Client Secret</b> – This is a secret key that is used with the Client ID in order to improve security.</p>
            </li>
            <li>
                <p><b>Authorization Grant Type</b> – Each IDP has rules regarding how roles are grouped. These rules have an arbitrary name provided by the IDP. The roles user must use this name to create the roles.</p>
            </li>
            <li MadCap:conditions="Version.16-3-died">
                <p><b>Scope</b> - </p>
            </li>
        </ul>
        <p>Once the connection details are entered, click <b>Apply</b>. </p>
        <h1><a name="Roles-Mangement"></a>Role Management</h1>
        <p>Each role that is configured will have certain privileges (permissions) assigned to it.</p>
        <p>The roles should be configured by the company IT&#160;manager in the config map of the Kubernetes environment or through IDP&#160;setup.</p>
        <h2>Default Roles</h2>
        <p>If there is no configuration in the config map (this is <b>not</b> recommended), there is one default roles that is included with the installation which cannot be edited via SpaceDeck and this is ROLE_ADMIN.</p>
        <p>To see which privileges (permissions) are applied to a role (in this case ROLE_ADMIN), click the role name: </p>
        <p> <img src="../Resources/Images/SpaceDeck/16.4/Roles-main1.png" style="width: 897px;height: 166px;" /></p>
        <div class="tc-admon-note">
            <p>From the IDP side the default role of ROLE_ADMIN will not be created automatically during launch. Therefore, the admin should manually create a group (role) in the IDP with the same name as the default role name in the config map.</p>
        </div>
        <div MadCap:conditions="Version.16-4-born">
            <p> Below are two screen-shots showing the <b>Resource Management</b> menu which displays all the permissions applied for the default <b>ROLE_ADMIN</b> at Monitor System Level and at Resources Level. &#160;Note that at Resources level, permissions can be applied per Space and Pipeline.</p>
            <p>An explanation of all the available permissions for each level can be found n the <MadCap:xref href="../security/security-overview.html">Security Overview</MadCap:xref> page.</p>
            <p>&#160;</p>
            <p><b>System Level</b> - Monitor with permissions for MONITOR_PU and MONITOR_JVM:</p>
            <p>
                <img src="../Resources/Images/SpaceDeck/16.4/Resource_Mgmt_Admin_Role1.png" style="width: 862px;height: 311px;" />
            </p>
            <p><b>Resources Level</b> - Pipeline with permissions for START_STOP, CREATE, EDIT and DELETE:</p>
            <p>
                <img src="../Resources/Images/SpaceDeck/16.4/Resource_Mgmt_Admin_Role2.png" style="width: 872px;height: 320px;" />
            </p>
            <p>&#160;</p>
        </div>
        <h2>Creating a new Role</h2>
        <div class="tc-admon-attention" MadCap:conditions="Version.16-4-born">
            <p>In order to create, delete or update the <b>Roles Management</b> settings, the user has to be assigned the specific permission of <b>Manage Roles</b>, otherwise an error 403 (Forbidden) response will be displayed in the log. <br />An explanation of all the available permissions can be found on the <MadCap:xref href="../security/security-overview.html">Security Overview</MadCap:xref> page.</p>
        </div>
        <p MadCap:conditions="Version.16-3-only">Create a new role by clicking  <b>New +</b> to access the role setup page.</p>
        <p MadCap:conditions="Version.16-4-born">From the Role Management page, click <b>New +</b> to access the role setup page.</p>
        <div MadCap:conditions="Version.16-3-only">
            <p>On the setup page:</p>
            <ol>
                <li>
                    <p>Provide a name for the new role. In our example it is ROLE_DEMO_USER.</p>
                </li>
                <li>
                    <p>Provide a description of the role.</p>
                </li>
                <li>
                    <p>Select which permissions the role should have by selecting from the list and using the right-arrow to move the role into the list on the right.</p>
                </li>
                <li>
                    <p>An explanation of all the available permissions can be found on the <MadCap:xref href="../security/security-overview.html">Security Overview</MadCap:xref> page.</p>
                </li>
                <li>
                    <p>Click <b>Apply</b></p>
                </li>
            </ol>
            <p>
                <img src="../Resources/Images/SpaceDeck/99.png" style="width: 830px;height: 412px;" />
            </p>
        </div>
        <div MadCap:conditions="Version.16-4-born">
            <p>On the <b>Add Role</b> pop-out:</p>
            <ol>
                <li>
                    <p>Provide a name for the new role. In our example it is DEMO_USER.</p>
                </li>
                <li>
                    <p>Provide a description of the role.</p>
                </li>
                <li>
                    <p>Click <b>Create Role</b></p>
                </li>
            </ol>
            <p>
                <img src="../Resources/Images/SpaceDeck/16.4/Admin_Add_Role.png" style="width: 980px;height: 371px;" />
            </p>
            <p>Once the role is created, the <b>Resource Management</b> screen is displayed where permissions will be assigned for the newly created role. &#160;</p>
            <p>The role will now also be displayed in the Role Management screen.</p>
            <h2><a name="ResourceManagement"></a>Resource Management: Applying Permissions for the Role</h2>
            <p>In the <b>Resource Management</b> select your newly created role from the Roles drop-down list and apply the System and Resources level permissions.</p>
            <p>An explanation of all the available permissions can be found on the <MadCap:xref href="../security/security-overview.html">Security Overview</MadCap:xref> page.</p>
            <p>
                <img src="../Resources/Images/SpaceDeck/16.4/ResourceMgmt-RolesSetup.png" style="width: 955px;height: 358px;" />
            </p>
            <p>Click <b>Apply</b> to apply the permissions.</p>
            <div class="tc-admon-note">
                <p>The permissions can be updated during run-time without the need to restart any of the components</p>
            </div>
            <h2>Deleting a Role</h2>
            <p>A role can simply be deleted by accessing the Roles Management page and clicking the kebab menu next to the role name and selecting.</p>
            <p>As mentioned previously, there is no option to delete a default role.</p>
            <p>
                <img src="../Resources/Images/SpaceDeck/16.4/Role-delete.png" style="width: 1341px;height: 153px;" />
            </p>
            <p>&#160;</p>
        </div>
    </body>
</html>