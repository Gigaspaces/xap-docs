<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1 class="tc-pagetitle">Creating a <MadCap:variable name="General.ProductNameXAP" /> Cluster On Premise</h1>
        <p>&#160;</p>
        <p>gsctl is a simple CLI tool for creating <MadCap:variable name="General.ProductNameXAP" /> clusters. You can create a cluster in minutes with a single command – <code>run java -jar gsctl.jar create</code>.</p>
        <p>In this topic, you will learn how to create, provision and install a <MadCap:variable name="General.ProductNameXAP" /> cluster on an on-premise machine, and then remove it by doing the following:</p>
        <ul>
            <li>Create a <MadCap:variable name="General.ProductNameXAP" /> cluster.</li>
            <li>Deploy <MadCap:variable name="General.ProductNameXAP" /> services in the cluster.</li>
            <li>Undeploy the <MadCap:variable name="General.ProductNameXAP" /> services and tear down the cluster.</li>
        </ul>
        <h2>Prerequisites</h2>
        <p>Before beginning to work with the gsctl tool, you must do the following:</p>
        <ul>
            <li>
                <p>Verify that Java 8 or higher is installed on your local workstation.</p>
            </li>
        </ul>
        <ul>
            <li>Disable the password prompt when using sudo</li>
            <li>Unzip the pre-installed software package</li>
            <li>Ensure that you have a single pem file for all your on-premise machines</li>
            <li>Verify connectivity to all the machines from your workstation</li>
            <li>Centos machines only - disable the firewall (firewalld service) and make sure it is set to stay disabled on start (for example, when the machine reboots)</li>
        </ul>
        <h2>Downloading the Utility</h2>
        <p>The gsctl tool is available from the<MadCap:variable name="General.ProductNameXAP" /> <a href="https://github.com/Gigaspaces/gsctl" target="_blank">Github repo</a>.</p>
        <h1>Creating a <MadCap:variable name="General.ProductNameXAP" /> Cluster </h1>
        <p>Follow the steps in the procedure to create a <MadCap:variable name="General.ProductNameXAP" /> cluster and deploy the <MadCap:variable name="General.ProductNameXAP" /> services.</p>
        <p class="tc-todo">To create a cluster:</p>
        <ol>
            <li>
                <p>Create an empty directory on your machine. In this example, the directory name is <span class="tc-bold">gsDemo</span>.</p>
            </li>
            <li>Download the most current version of the gsctl.jar file from <a href="https://github.com/Gigaspaces/gsctl" target="_blank">Github</a> to the directory you created (gsDemo) and extract the contents.</li>
            <li>Add the pem file to this directory.</li>
            <li>
                <p>Open a command window and type the following:</p><pre><code class="language-bash">java -jar gsctl.jar init --mode=on-premise --cluster-name=gs_demo_cluster</code></pre>
                <p>This command creates a cluster.yaml file. Modify this file as follows:</p>
                <ul>
                    <li>
                        <p>keyName - name of your pem file (without the .pem extension)</p>
                    </li>
                    <li>
                        <p>userName</p>
                    </li>
                    <li>
                        <p>profiles - the on-premise worker (client) name, along with the IP&#160;addresses of the host machines</p>
                        <div class="tc-admon-attention">
                            <p>You must have 3 masters (gsManagers) and at least 1 worker.</p>
                        </div>
                    </li>
                </ul><pre><code class="language-bash">gsManagers: 3
aws: null
onPremise:
  keyName: "pem file"
  userName: "user name"
  masters:
    label: "GS Cluster [gs_demo_cluster] Master Group"
    profiles:
    - name: "default on premise master name"
      hosts:
      - "127.0.1.93"
      - "127.0.1.95"
      - "127.0.1.96"
  workers:
    label: "GS Cluster [gs_demo_cluster] Worker Group"
    profiles:
    - name: "default on premise worker name"
      hosts:
      - "127.0.1.97"
      - "127.0.1.98"
      - "127.0.1.99"
name: "gs_demo_cluster"</code></pre>
            </li>
            <li>
                <p>To create a cluster, run the following command:</p><pre><code class="language-bash">java -jar gsctl.jar create</code></pre>
            </li>
        </ol>
        <MadCap:snippetBlock src="../Resources/Snippets/Content/gigaops/gsctl-deploy-gs-service.flsnp" />
        <MadCap:snippetBlock src="../Resources/Snippets/Content/gigaops/gsctl-remove-gs-cluster.flsnp" />
        <p>
            <img src="../Resources/Static/attachment_files/gigaops-stack/gsctl-destroy-process-cropped.png" class="tc-picture50" />
        </p>
    </body>
</html>