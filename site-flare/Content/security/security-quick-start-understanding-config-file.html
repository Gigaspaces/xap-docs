<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
		<div class="product-bar">
			<p><a><MadCap:variable name="General.ProductXAP" /></a>
			</p>
		</div>
        <h1 class="tc-pagetitle">Understanding the Default Security Configuration File</h1>
        <p>In order to understand the security configuration file, we must first understand authorities and roles.</p>
        <h1>What is an Authority?</h1>
        <p>An authority is  a list of functions (system tasks). If an authority is assigned to a user, then the user can perform the authority-related functions. </p>
        <div class="tc-admon-note">
            <p>Authorities are pre-defined in <MadCap:variable name="General.ProductNameXAP" /> and cannot be created or altered by the user.</p>
        </div>
        <p>Authorities are cumulative — if a user is assigned two authorities, they are able to execute all of the functions for both authorities. Below is a list of authorities that are available in <MadCap:variable name="General.ProductNameXAP" />.</p>
        <p>&#160;</p>
        <div title="Authorities used in pre-configured roles">
            <table cellspacing="0">
                <col style="width: 557px;" />
                <col style="width: 963px;" />
                <thead>
                    <tr style="height : 15.75px;">
                        <th style="font-weight: bold;text-align: center;padding-left: 10px;padding-right: 10px;padding-top: 10px;padding-bottom: 10px;border-left-style: none;border-left-width: 1px;border-left-color: #e0e0e0;" colspan="2">Authorities Used in Pre-configured Roles</th>
                    </tr>
                    <tr style="height : 15.75px;">
                        <th style="font-weight: bold;">Authority</th>
                        <th style="font-weight: bold;">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>MANAGE_GRID</td>
                        <td>Start, terminate, restart of GSC/GSM/LUS</td>
                    </tr>
                    <tr>
                        <td>MANAGE_PU</td>
                        <td>Scale up/down, scale in/out, relocate, restart PU instance, destroy PU instance</td>
                    </tr>
                    <tr>
                        <td>MONITOR_JVM</td>
                        <td>Monitoring of JVM statistics</td>
                    </tr>
                    <tr>
                        <td>MONITOR_PU</td>
                        <td>Monitoring of Processing Units (classes, connections, statistics, etc.)
</td>
                    </tr>
                    <tr>
                        <td>PROVISION_PU</td>
                        <td>Deploy, undeploy of processing units
</td>
                    </tr>
                    <tr>
                        <td>SPACE_READ</td>
                        <td>Read, Count and Notify operations
</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div title="Click here to see additional authorities">
            <table cellspacing="0">
                <col style="width : 141.75px;" />
                <col style="width : 240.75px;" />
                <thead>
                    <tr style="height : 15.75px;">
                        <th style="font-weight: bold;text-align: center;padding-left: 10px;padding-right: 10px;padding-top: 10px;padding-bottom: 10px;border-left-style: none;border-left-width: 1px;border-left-color: #e0e0e0;" colspan="2">Additional Authorities</th>
                    </tr>
                    <tr style="height : 15.75px;">
                        <th style="font-weight: bold;">Authority</th>
                        <th style="font-weight: bold;">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="height : 15.75px;">
                        <td>SPACE_WRITE</td>
                        <td>Write and update operations</td>
                    </tr>
                    <tr style="height : 15.75px;">
                        <td>SPACE_TAKE</td>
                        <td>Take and Clear operations
</td>
                    </tr>
                    <tr style="height : 15.75px;">
                        <td>SPACE_EXECUTE</td>
                        <td>Execute tasks</td>
                    </tr>
                    <tr style="height : 15.75px;">
                        <td>SPACE_ALTER</td>
                        <td>Register type descriptor, Clean and Drop-Class operations
</td>
                    </tr>
                    <tr style="height : 15.75px;">
                        <td>SPACE_CREATE</td>
                        <td>Write only (no update) operations</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>&#160;</p>
        <h1>What is a Role?</h1>
        <p>A role is a list of authorities. Roles can be defined for convenience, to easily assign the same list of authorities to different users. You can use the pre-configured <MadCap:variable name="General.ProductNameXAP" /> roles, and you can create your own role definitions. The pre-configured <MadCap:variable name="General.ProductNameXAP" /> roles are as follows:</p>
        <table style="width: 100%;" class="tc-standard">
            <col style="width: 98px;" />
            <col />
            <tbody>
                <tr>
                    <td style="font-weight: bold;text-align: center;padding-left: 10px;padding-right: 10px;padding-top: 10px;padding-bottom: 10px;border-left-style: solid;border-left-color: #e0e0e0;">Role</td>
                    <td style="font-weight: bold;text-align: center;padding-left: 10px;padding-right: 10px;padding-top: 10px;padding-bottom: 10px;border-left-style: solid;border-left-color: #e0e0e0;">Authorities</td>
                </tr>
                <tr>
                    <td>ROLE_ADMIN</td>
                    <td>MONITOR_JVM, MONITOR_PU, SPACE_READ, PROVISION_PU, MANAGE_GRID, MANAGE_PU</td>
                </tr>
                <tr>
                    <td>ROLE_MNGR</td>
                    <td>MONITOR_JVM, MONITOR_PU, SPACE_READ, PROVISION_PU</td>
                </tr>
                <tr>
                    <td>ROLE_VIEWER</td>
                    <td>MONITOR_JVM, MONITOR_PU, SPACE_READ</td>
                </tr>
            </tbody>
        </table>
        <h1>Creating Your Own Roles — the Security Configuration File</h1>
        <p>The default security configuration file is located at <code style="font-weight: bold;">../config/security/security-config.xml</code>. </p>
        <p>The relevant lines in the files are described in the following table.
As you can see below, you may modify lines 14 to 19 to define your own roles.	</p>
        <table style="width: 100%;" class="tc-standard">
            <col />
            <col style="width: 933px;" />
            <col />
            <thead>
                <tr>
                    <th>Lines</th>
                    <th>Text</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>3-9</td>
                    <td>
&lt;beans xmlns="http://www.springframework.org/schema/beans"<br />       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />       xmlns:sec="http://www.springframework.org/schema/security"
       <br />xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
<br />      http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd
       http://www.springframework.org/schema/util  http://www.springframework.org/schema/util/spring-util-3.1.xsd"&gt;
</td>
                    <td>
This defines the Spring security framework.
</td>
                </tr>
                <tr>
                    <td>11-12</td>
                    <td>
   &lt;!-- This password encoder is provided for getting started and testing purposes only and is not considered secure. --&gt;
    &lt;bean id="passwordEncoder" class="org.springframework.security.crypto.password.NoOpPasswordEncoder"/&gt;
</td>
                    <td>
Define the class used for password encryption. In this example, no password encryption is used.
</td>
                </tr>
                <tr>
                    <td>14-19</td>
                    <td>
    &lt;!-- Predefined role to privileges mapping (ROLE_VIEWER, ROLE_MNGR, ROLE_ADMIN). --&gt;
<br />    &lt;util:map id="roles"&gt;
<br />        &lt;entry key="ROLE_ADMIN"  value="MONITOR_JVM, MONITOR_PU, SPACE_READ, PROVISION_PU, MANAGE_GRID, MANAGE_PU"/&gt;
        <br />&lt;entry key="ROLE_MNGR"   value="MONITOR_JVM, MONITOR_PU, SPACE_READ, PROVISION_PU,"/&gt;
        <br />&lt;entry key="ROLE_VIEWER" value="MONITOR_JVM, MONITOR_PU, SPACE_READ"/&gt;
    <br />&lt;/util:map&gt;


</td>
                    <td>
                        <p><![CDATA[
]]><b>Define the roles that will be used to provide users with system access</b>.
These roles are assigned to users on lines 28-39 below.
</p>
                        <p>This is where you can define your own roles.</p>
                        <div class="tc-admon-note">
                            <p>We recommend the following naming convention for user-defined roles: begin the name with <![CDATA[  ]]><b>ROLE_</b></p>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>21-25</td>
                    <td>
   &lt;!-- Populates user details with authorities declared by associated role --&gt;
    <br />&lt;bean id="roleBasedUserService" class="<b>com.gigaspaces.security.spring.RoleBasedUserService</b>"&gt;<br />        &lt;constructor-arg ref="userService"/&gt;
<br />        &lt;constructor-arg ref="roles"/&gt;
<br />    &lt;/bean&gt;
</td>
                    <td>
Bold text defines this as a Spring security implementation.
</td>
                </tr>
                <tr>
                    <td>28-39</td>
                    <td>
 &lt;sec:authentication-manager&gt;
<br />       &lt;sec:authentication-provider user-service-ref="roleBasedUserService"/&gt;
        <br />&lt;sec:authentication-provider&gt;
            <br />&lt;sec:password-encoder ref="passwordEncoder"/&gt; &lt;!-- prefer BCrypt --&gt;
<br />           &lt;sec:user-service id="<b>userService</b>"&gt;
<br />                &lt;sec:user name="gs-admin"   password="gs-admin" authorities="ROLE_ADMIN"/&gt;
                <br />&lt;sec:user name="gs-mngr"    password="gs-mngr"  authorities="ROLE_MNGR"/&gt;
                &lt;sec:user name="gs-viewer"  password="gs-viewer"  authorities="ROLE_VIEWER"/&gt;
            &lt;/sec:user-service&gt;
<br />        &lt;/sec:authentication-provider&gt;
<br />    &lt;/sec:authentication-manager&gt;
<br />&lt;/beans&gt;
</td>
                    <td>
                        <p>
Highlighted text shows that this is an in-memory security implementation — the user information is coded here, inline. </p>
                        <p>

Note that if we were accessing external security information, instead of the highlighted text, we would code an external reference, as in this example of LDAP security:

&lt;sec:authentication-manager&gt;
&lt;sec:authentication-provider
ref="ldapAuthenticationProvider"/&gt;
&lt;/sec:authentication-manager&gt;
</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><b>Next Topic:</b>
            <MadCap:xref href="security-quick-start-ldap.html">Security Quick Start — LDAP</MadCap:xref>
        </h2>
    </body>
</html>