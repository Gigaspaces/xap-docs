<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
<head></head>
<body>
<h1>Appendix</h1>
  

 <a name="appendix-a">&#160;</a>

<h1><a name="supported-query-keywords">&#160;</a>Supported Query Keywords</h1>

<p>The following table lists the supported keywords by the Spring Data XAP repository query derivation mechanism:</p>

<table>
<thead>
<tr>
<th>Logical keyword</th>
<th>Keyword expressions</th>
</tr>
</thead>

<tbody>
<tr>
<td>AND</td>
<td>And</td>
</tr>

<tr>
<td>OR</td>
<td>Or</td>
</tr>

<tr>
<td>AFTER</td>
<td>After, IsAfter</td>
</tr>

<tr>
<td>BEFORE</td>
<td>Before, IsBefore</td>
</tr>

<tr>
<td>CONTAINING</td>
<td>Containing, IsContaining, Contains</td>
</tr>

<tr>
<td>BETWEEN</td>
<td>Between, IsBetween</td>
</tr>

<tr>
<td>ENDING_WITH</td>
<td>EndingWith, IsEndingWith, EndsWith</td>
</tr>

<tr>
<td>FALSE</td>
<td>False, IsFalse</td>
</tr>

<tr>
<td>GREATER_THAN</td>
<td>GreaterThan, IsGreaterThan</td>
</tr>

<tr>
<td>GREATER_THAN_EQUALS</td>
<td>GreaterThanEqual, IsGreaterThanEqual</td>
</tr>

<tr>
<td>IN</td>
<td>In, IsIn</td>
</tr>

<tr>
<td>IS</td>
<td>Is, Equals, (or no keyword)</td>
</tr>

<tr>
<td>IS_NOT_NULL</td>
<td>NotNull, IsNotNull</td>
</tr>

<tr>
<td>IS_NULL</td>
<td>Null, IsNull</td>
</tr>

<tr>
<td>LESS_THAN</td>
<td>LessThan, IsLessThan</td>
</tr>

<tr>
<td>LESS_THAN_EQUAL</td>
<td>LessThanEqual, IsLessThanEqual</td>
</tr>

<tr>
<td>LIKE</td>
<td>Like, IsLike</td>
</tr>

<tr>
<td>NOT</td>
<td>Not, IsNot</td>
</tr>

<tr>
<td>NOT_IN</td>
<td>NotIn, IsNotIn</td>
</tr>

<tr>
<td>NOT_LIKE</td>
<td>NotLike, IsNotLike</td>
</tr>

<tr>
<td>REGEX</td>
<td>Regex, MatchesRegex, Matches</td>
</tr>

<tr>
<td>STARTING_WITH</td>
<td>StartingWith, IsStartingWith, StartsWith</td>
</tr>

<tr>
<td>TRUE</td>
<td>True, IsTrue</td>
</tr>
</tbody>
</table>

<p>Keywords are not supported in XAP Repositories:</p>

<p>Logical keyword | Keyword expressions|
-_– | —-|
EXISTS | Exists
NEAR | Near, IsNear
WITHIN | Within, IsWithin</p>

 <a name="appendix-b">&#160;</a>

<h1><a name="supported-querydsl-methods">&#160;</a>Supported Querydsl Methods</h1>

<p><code>Predicate</code> methods are supported by Spring Data XAP to build up Querydsl queries:<br/></p>

<ul>
<li>number comparison: <code>eq</code>, <code>ne</code>, <code>lt</code>, <code>loe</code>, <code>goe</code>, <code>between</code>, <code>notBetween</code>    <br/></li>
<li>string comparison: <code>like</code>, <code>matches</code>, <code>isEmpty</code>, <code>isNotEmpty</code>, <code>contains</code>, <code>containsIgnoreCase</code>, <code>endsWith</code>, <code>endsWithIgnoreCase</code>, <code>startsWith</code>, <code>startsWithIgnoreCase</code>  <br/></li>
<li>other comparison: <code>isNull</code>, <code>isNotNull</code>, <code>in</code>, <code>notIn</code> <br/></li>
<li>complex queries: <code>and</code>, <code>or</code>  <br/></li>
<li>embedded fields</li>
</ul>

<div class="tc-admon-note">
  
  <p>Note that <code>contains</code>, <code>startsWith</code>, <code>endWith</code> and their <code>...IgnoreCase</code> equivalents use the <code>Regular Expression</code> matches</p>
</div>

 <a name="appendix-c">&#160;</a>

<h1><a name="supported-change-api-methods">&#160;</a>Supported Change API methods</h1>

<p><code>Change API</code> methods are available while using Querydsl syntax (<code>QChangeSet</code> class):</p>

<ul>
<li>field: <code>set</code>, <code>unset</code></li>
<li>numeric: <code>increment</code>, <code>decrement</code></li>
<li>collections and maps: <code>addToCollection</code>, <code>addAllToCollection</code>, <code>removeFromCollection</code>, <code>putInMap</code>, <code>removeFromMap</code></li>
<li>lease: <code>lease</code></li>
<li>custom change: <code>custom</code></li>
</ul>

 <a name="appendix-d">&#160;</a>

<h1><a name="unsupported-operations">&#160;</a>Unsupported operations</h1>

<p>Although we try to support each and every Spring Data feature, sometimes native implementation is not possible using Space as a data source. Instead of providing workarounds, which are often slow, we decided to mark some features as unsupported, among them are:</p>

<h4><a name="using-ignorecase-exists-isnear-and-iswithin-keywords">&#160;</a>Using <code>IgnoreCase</code>, <code>Exists</code>, <code>IsNear</code> and <code>IsWithin</code> keywords</h4>

<pre><code class="language-java">public interface PersonRepository extends XapRepository&lt;Person, String&gt; {

    // these methods throw an UnsupportedOperationException when called

    List&lt;Person&gt; findByNameIgnoreCase(String name);

    List&lt;Person&gt; findByNameExists(boolean exists);

    List&lt;Person&gt; findByAgeIsNear(Integer nearAge);

    List&lt;Person&gt; findByAgeIsWithin(Integer minAge, Integer maxAge);

}
</code></pre>

<h4><a name="setting-sort-to-ignorecase">&#160;</a>Setting <code>Sort</code> to <code>ignoreCase</code></h4>

<pre><code class="language-java">public interface PersonRepository extends XapRepository&lt;Person, String&gt; {

    // these methods throw an UnsupportedOperationException when called

    List&lt;Person&gt; findByNameIgnoreCase(String name);

    List&lt;Person&gt; findByNameExists(boolean exists);

    List&lt;Person&gt; findByAgeIsNear(Integer nearAge);

    List&lt;Person&gt; findByAgeIsWithin(Integer minAge, Integer maxAge);

}
</code></pre>

<h4><a name="setting-any-nullhandling-in-sort-other-than-native">&#160;</a>Setting any <code>NullHandling</code> in <code>Sort</code> other than <code>NATIVE</code></h4>

<pre><code class="language-java">// NullHandling other than NATIVE is not supported
Sort sorting = new Sort(new Order(ASC, "id", NullHandling.NULLS_FIRST));
// will throw an UnsupportedOperationException
personRepository.findByNameEquals("paul", new PageRequest(1, 2, sorting));
</code></pre>

<h4><a name="using-query-derivation-in-xapdocumentrepository">&#160;</a>Using query derivation in <code>XapDocumentRepository</code></h4>

<pre><code class="language-java">@SpaceDocumentName("Person")
public interface DocumentQueries
        extends XapDocumentRepository&lt;SpaceDocument, String&gt; {

    @Query("name = ?")
    List&lt;SpaceDocument&gt; findByName(String name);

    // this declaration without @Query annotation
    // or named query from external resource
    // will throw UnsupportedOperationException during configuration
    List&lt;SpaceDocument&gt; findByAge(Integer age);

}
</code></pre>

</body>
</html>