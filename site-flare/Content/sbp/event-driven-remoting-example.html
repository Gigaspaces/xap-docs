<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
<head></head>
<body>
<h1>Event Driven Remoting Example</h1>
  

<table>
<thead>
<tr>
<th>Author</th>
<th>XAP Version</th>
<th>Last Updated</th>
<th>Reference</th>
<th>Download</th>
</tr>
</thead>

<tbody>
<tr>
<td>Shay Hassidim</td>
<td>8.0.4</td>
<td>September 2014</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<h1><a name="overview">&#160;</a>Overview</h1>

<p>OpenSpaces provides the ability to perform service method invocations on remote services, using the space as the transport layer. You may use the <a href="/xap/14.0/dev-java/event-driven-remoting.html">Event Driven Remoting</a> and <a href="/xap/14.0/dev-java/executor-based-remoting.html">Executor Based Remoting</a>.</p>

<p>The benefits of using the Event Driven Remoting Compared to the Executor Based Remoting:</p>

<ul>
<li>Service and Data can be located in different locations.</li>
<li>Service can be shut down without impacting the Data.</li>
</ul>

<p>The downside using Event Driven Remoting is performance and scalability. Since it is using polling container that is asynchronous consumer where the trigger to the invocation is a space write operation the internal overhead compared to the Executor Based Remoting is higher.</p>

<h1><a name="event-driven-remoting-example">&#160;</a>Event Driven Remoting Example</h1>

<p>The Event Driven Remoting allows you to:</p>

<ul>
<li>Immediately returns a "Future'</li>
<li>Allows the client to determine when to get the results</li>
<li>Calling Future.get() is a synchronous call</li>
<li>Is designed for long-running computation requests</li>
</ul>

<h2><a name="installing-and-running-the-example">&#160;</a>Installing and Running the example</h2>

<ol>
<li>Download the <a href="/attachment_files/sbp/event_remoting_Example.zip">example</a> package and unzip it under your <GigaSpaces Root>\examples folder.</li>
<li>Load the example into your IDE (eclipse or your favorite Java development environment).</li>
<li>Edit the project to include the correct GigaSpaces libraries location.</li>

<li><p>Setup the Service PU run configuration:
<img src="/attachment_files/sbp/event_remot3.jpg" alt="event_remot3.jpg" />
<img src="/attachment_files/sbp/event_remot4.jpg" alt="event_remot4.jpg" /></p></li>

<li><p>Setup the Client PU run configuration:
<img src="/attachment_files/sbp/event_remot1.jpg" alt="event_remot1.jpg" />
<img src="/attachment_files/sbp/event_remot2.jpg" alt="event_remot2.jpg" /></p></li>

<li><p>Run the Service PU</p></li>

<li><p>Run the Client PU. This will invoke the service to that will immediately return and after 10 seconds will receive the result.</p></li>
</ol>

<h2><a name="the-flow">&#160;</a>The Flow</h2>

<p>To allow the client to invoke the service and immediately return the actual dialog between the client and the service done via request/response space objects. The service business logic is executed in the background, and when completed returns the result back to the client:</p>

<ul>
<li>Client is writing a Request object to the space.</li>
<li>The Request object is taken by the service (using a polling container).</li>
<li>The Service is writing back a Response object.</li>
<li>The client takes the Response object.</li>
</ul>

<p><img src="/attachment_files/sbp/async_remot1.jpg" alt="async_remot1.jpg" /></p>

<h2><a name="sample-client-output">&#160;</a>Sample Client Output</h2>

<pre><code class="language-java">EventRemotingClient: I am being constructed.
2011-11-08 09:11:46,871  INFO [org.openspaces.pu.container.integrated.IntegratedProcessingUnitContainer] -
Processing unit(s) started successfully
---------------------------------------------------
2011-11-08 09:11:47.867 About to invoke Service - Request #1
2011-11-08 09:11:47.97 Got EventDrivenRemoteFuture back...
2011-11-08 09:11:47.97 Future.get() returns Hi
---------------------------------------------------
2011-11-08 09:11:57.983 About to invoke Service - Request #2
2011-11-08 09:11:57.985 Got EventDrivenRemoteFuture back...
2011-11-08 09:11:57.985 Future.get() returns Hi
---------------------------------------------------
</code></pre>

<h2><a name="sample-service-output">&#160;</a>Sample Service Output</h2>

<pre><code class="language-java">SimpleServiceImpl constructed...
2011-11-08 09:11:40,036  INFO [org.openspaces.pu.container.integrated.IntegratedProcessingUnitContainer] -
Processing unit(s) started successfully
2011-11-08 09:11:47.965 SimpleServiceImpl - Request Number:1 called!
2011-11-08 09:11:57.985 SimpleServiceImpl - Request Number:2 called!
</code></pre>

</body>
</html>