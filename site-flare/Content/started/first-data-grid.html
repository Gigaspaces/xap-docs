<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1 class="tc-pagetitle">Your First Data Grid</h1>
        <p>This topic helps you get started with the GigaSpaces data grid. You will learn how to create a project that includes a client and a Space. The client connects to the Space, or data grid, with the ability to write and read data. You will also learn how to connect your client to a different Space in order to write and read data.</p>
        <h1>Installing the <MadCap:variable name="General.CompanyName" /> Product</h1>
        <p>If you haven’t done so yet, download and unzip the software package in your preferred location, and apply the license key.</p>
        <div class="tc-admon-note">
            <p> For more detailed instructions, see the <MadCap:xref href="installation.html">Downloading and Installing</MadCap:xref> and <MadCap:xref href="license-key.html">Product License</MadCap:xref> topics in this section.</p>
        </div>
        <div MadCap:conditions="NewSet.JustAColorForDivs">
            <div>
                <h1>Interactive Shell</h1>
                <p><MadCap:variable name="General.CompanyName" /> products are packaged with an interactive shell that lists the available commands when it is launched. </p>
                <p class="tc-todo">To start the interactive shell:</p>
                <ul>
                    <li>Open a command window from the <MadCap:variable name="General.Home-directory" />/bin folder and type <MadCap:variable name="General.CLI-script-all" /> to launch the script.</li>
                </ul>
                <div class="tc-admon-tip">
                    <p>After you launch the script, run the version command to try out the shell. This command prints version information, which you can use to verify that you are running the correct version.</p>
                </div>
            </div>
            <h1>Project Blueprints</h1>
            <p><MadCap:variable name="General.CompanyName" /> products come packaged with a set of blueprints that can be used to create projects. These blueprints can be generated via the interactive shell. To see information about available blueprints and related commands, type the following:</p>
            <ul>
                <li><code>blueprint list</code> - displays a list of available blueprints.</li>
                <li><code>blueprint</code> - displays a list of available blueprint commands.</li>
            </ul>
            <h1>Creating a Project</h1>
            <p>When you create a project, the blueprint leads you through an interactive work flow where you define a number of options as you create your configuration. Using only the default options in the work flow creates a client application that is configured to use the Space that is generated with it.</p>
            <div class="tc-admon-tip">
                <p>When you first begin to generate a blueprint-based project, you can give the project a name. We skip this in the example.</p>
            </div>
            <p class="tc-todo">To create a project:</p>
            <ol>
                <li>
                    <p>Type <code>blueprint generate</code>. This begins the configuration work flow.</p>
                </li>
                <li>A list of available blueprints is displayed. Press <span class="tc-bold">Enter</span> to select the default value (<span class="tc-bold">1</span>=client).</li>
                <li>The next step is configuring the target path (folder name and location) for the client application files. Press <span class="tc-bold">Enter</span> to select the default value (<span class="tc-bold">my-client</span> in the product package bin folder).</li>
                <li>The client blueprint supports customizing several additional properties, but for now you should use the default values. Press <span class="tc-bold">Enter</span> to skip the additional configuration.</li>
                <li>
                    <p>The project is created, and the target path is displayed. You are prompted to open the project in your default file explorer. </p><pre><code class="language-bash">Generated project from client at D:\InsightEdge\gigaspaces-insightedge-enterprise-<MadCap:variable name="Versions.product-version-long" />\bin\my-client1
Would you like to open it in file explorer? [y]:</code></pre>
                    <p>Press <span class="tc-bold">Enter</span> to view the project files.</p>
                    <p>
                        <img src="client-blueprint-project-files.png" class="tc-picture80" />
                    </p>
                </li>
            </ol>
            <h2>Project Structure</h2>
            <p>The project that is created by the client blueprint has the following structure:</p>
            <div class="tc-align-center">
                <p>
                    <img src="client-blueprint-project-structure.png" class="tc-picture30" />
                </p>
            </div>
            <p>Where:</p>
            <ul>
                <li><span class="tc-bold">pom.xml</span> - a standard Maven project descriptor that contains a single Maven dependency on <code>xap-openspace</code>.</li>
                <li><span class="tc-bold">Program.java</span> - a simple Java program with a <code>main</code> method that demonstrates how to connect to an existing Space or how to create an embedded Space.</li>
                <li><span class="tc-bold">employees.csv</span> - a test resource file with sample data.</li>
                <li><span class="tc-bold">Employee.java</span> - a POJO&#160;file that contains the employee data model.</li>
                <li><span class="tc-bold">SpaceTestCase.java</span> - a unit test that loads employee data from the resource file, writes the data to the Space, and performs various Space operations.</li>
            </ul>
            <div class="tc-admon-note">
                <p>For more information about using Maven with <MadCap:variable name="General.CompanyName" /> products, see <MadCap:xref href="installation-maven-overview.html">Maven Artifacts</MadCap:xref>.</p>
            </div>
            <h2>Building and Running the Project</h2>
            <h3>From the Command Line</h3>
            <p class="tc-todo">To build the project:</p>
            <ol>
                <li>
                    <p> Open a shell from the <span class="tc-bold">my-client</span> folder.</p>
                </li>
                <li>
                    <p>Run the following command to build the project and run the test (as shown in the shell output). The test demonstrates how to write data to the grid, and how to read from the data grid.</p><pre><code class="language-java">mvn package</code></pre>
                </li>
            </ol>
            <h3>In Your Development Environment</h3>
            <p>You can open any standard Java IDE (for example, Eclipse or IntelliJ IDEA) and import the project using the pom.xml file. After the project is imported, you can run or debug it, and experiment with changing the test to become more familiar with the Space API.</p>
            <h1>Connecting Your Application to an Existing Space</h1>
            <h2>Starting a Service Grid</h2>
            <p>A data grid in a local environment is hosted on a <a href="../overview/the-runtime-environment.html">service grid</a>. The service grid is comprised of one or more machines (service grid nodes) running a <a href="../overview/the-runtime-environment.html#gsa">Grid Service Agent</a> (or GSA), and provides a framework to deploy and monitor applications on the data grid.</p>
            <p class="tc-todo">To start the service grid:</p>
            <ul>
                <li>
                    <p> To start a service grid with 4 containers, navigate to <span class="tc-bold"><MadCap:variable name="General.Home-directory" />/bin</span> and run the following command:</p>
                    <div class="easyui-tabs" plain="true" data-options="">
                        <div title="Linux" style="padding:10px"><pre><code class="language-bash"><MadCap:variable name="General.CLI-script-Linux" /> host run-agent --auto --gsc=4
</code></pre>
                        </div>
                        <div title="Windows " style="padding:10px"><pre><code class="language-bash"><MadCap:variable name="General.CLI-script-Windows" /> host run-agent --auto --gsc=4
</code></pre>
                        </div>
                    </div>
                </li>
            </ul>
            <h3>Running a Service Grid on a Single Server</h3>
            <p>Service Grid can also be run on a single server which can be accessed by remote users.</p>
            <p><code>gs host run-agent --auto</code> creates the manager using the localhost. Other computers will not be able to access it.</p>
            <p>For running on a single server, follow these steps:</p>
            <ol>
                <li>
                    <p>Modify the <MadCap:variable name="General.Home-directory" />/bin/setenv-overrides.(sh|bat) file</p>
                    <p>Set the GS_MANAGERS_SERVERS to the hostname.</p>
                    <div class="tc-admon-note">
                        <p>It is highly recommended to set the GS_NIC_ADDRESS to the IP&#160;address of the host.</p>
                    </div>
                </li>
                <li>
                    <p>To start the Service Grid <code>run gs.(sh|bat) host run-agent --manager --webuse --gsc=4</code></p>
                </li>
            </ol>
            <h2>Deploying the Data Grid</h2>
            <p>After you launch a service grid, you can deploy a data grid and begin to use it.</p>
            <p class="tc-todo">To deploy the data grid:</p>
            <ul>
                <li>
                    <p>Open a command window, navigate to <span class="tc-bold"><MadCap:variable name="General.Home-directory" />/bin</span>, and run the following command:</p>
                    <div class="easyui-tabs" plain="true" data-options="">
                        <div title="Linux " style="padding:10px"><pre><code class="language-bash"><MadCap:variable name="General.CLI-script-Linux" /> space deploy --partitions=2 --ha myGrid
</code></pre>
                        </div>
                        <div title="Windows " style="padding:10px"><pre><code class="language-bash"><MadCap:variable name="General.CLI-script-Windows" /> space deploy --partitions=2 --ha myGrid</code></pre>
                        </div>
                    </div>
                    <p>This command deploys a data grid (aka Space) called <span class="tc-bold">myGrid</span> with 2 partitions and 1 backup per partition.</p>
                </li>
            </ul>
            <h2>Interacting with the Data Grid</h2>
            <p>After the data grid has been deployed, you can run your project again. To connect to the existing Space, change the default Space name to the name of the Space you just created.</p>
            <p class="tc-todo">To run the project again:</p>
            <ul>
                <li>Navigate to my-client and type the following in the command line:</li>
            </ul>
            <div class="easyui-tabs" plain="true" data-options="">
                <div title="Linux " style="padding:10px"><pre><code class="language-bash"> ./run.sh myGrid
</code></pre>
                </div>
                <div title="Windows " style="padding:10px"><pre><code class="language-bash"> .\run myGrid</code></pre>
                </div>
            </div>
        </div>
    </body>
</html>