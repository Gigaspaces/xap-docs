<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body style="text-align: left;">
        <map id="map1">
            <area shape="rectangle" coords="31,228,438,655" dragDirection="0" />
            <area shape="rectangle" coords="486,228,891,656" dragDirection="0" href="gs-ops-manager-cluster-overview.html" />
            <area shape="rectangle" coords="940,227,1349,656" dragDirection="0" />
        </map>
        <h1 class="tc-pagetitle">SpaceDeck - SSO&#160;IDP&#160;Setup</h1>
        <p>For configuring SSO&#160;(Secure Sign-On) for SpaceDeck, several IDPs can be used. <MadCap:variable name="General.CompanyName" /> provide examples below of how this setup is achieved through <b>AWS&#160;Azure</b> and <b>Okta</b>.</p>
        <div class="easyui-tabs" plain="true">
            <div title="Okta IDP Setup">
                <ol>
                    <li>
                        <p>Create a developer account in <a href="https://developer.okta.com/signup/">Okta</a></p>
                    </li>
                    <li>
                        <p>Once created, log in to the account and from the left side menu, select <b>Applications</b>:</p>
                    </li>
                    <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA1.png" style="width: 274px;height: 390px;" />
                    <li>
                        <p>Click <b>Create App Integration</b>:</p>
                    </li>
                    <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA2.png" style="width: 734px;height: 274px;" />
                    <li>
                        <p>From the pop-out menu, select <b>Sign-in method </b>OIDC - OpenID Connect and <b>Application type</b> Web Application. Then click <b>Next</b>:</p>
                    </li>
                    <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA3.png" style="width: 568px;height: 494px;" />
                    <li>
                        <p>In the New Web App Integration screen:</p>
                        <ul>
                            <li>
                                <p style="text-indent: 0.1in;">Provide an <b>App integration name</b>. In the example below it is Test Demo&#160;App.</p>
                            </li>
                            <li>
                                <p style="text-indent: 0.1in;">From <b>Grant type</b> select <b>Authorization Code</b> from the <b>Client acting on behalf of a user</b> section.</p>
                            </li>
                            <li>
                                <p style="text-indent: 0.1in;">From <b>Sign-in redirect&#160;URIs</b> set up a redirect URI -&gt; URI&#160;to security service callback.</p>
                            </li>
                        </ul>
                    </li>
                    <blockquote>
                        <ol> <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA4.png" style="width: 576px;height: 505px;" /></ol>
                    </blockquote>
                    <li>
                        <p>Controlled access is customizable according to each client's requirements. &#160;GigaSpaces has tested it with the following setting:</p>
                    </li>
                    <ol>
                        <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA5.png" style="width: 578px;height: 280px;" />
                    </ol>
                    <li>
                        <p>Click Save. Okta will provide a Client ID and Client Secret.</p>
                    </li>
                    <li>
                        <p>On the left side menu, select <b>Security</b> then <b>API</b> where you will find the <b>Issuer URI</b> that should be provided to SpaceDeck when you are setting up the IDP. Here the client has the option to customize and create a new authorization server. In this specific example, it was tested using the default:</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA6a.png" style="width: 829px;height: 592px;" />
                        </p>
                    </li>
                    <li>
                        <p>In SpaceDeck, the <b>Client ID</b>, <b>Client Secret</b> and <b>Issuer URI</b> are populated as follow:</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA7.png" style="width: 838px;height: 301px;" />
                        </p>
                    </li>
                    <li>
                        <p>To manager users in Okta, on the left side menu, select <b>Directory</b> then <b>People</b>:</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA8.png" style="width: 842px;height: 274px;" />
                        </p>
                    </li>
                    <li>
                        <p>To manage groups in Okta (which are translated as roles in SpaceDeck), on the left side menu go to <b>Directory</b> then <b>Groups</b>. By default in Smart DIH the role of ROLE_ADMIN has all privileges. It is customizable and can be changed via the config map. &#160;However, to follow the default behavior and to use the ROLE_ADMIN in SMART&#160;DIH, a ROLE_ADMIN group has to be created in OKTA and people assigned to this group. &#160;This group will contain administrators and will have all privileges. To create a group in Okta, on the left side menu, go to <b>Directory</b> then <b>Groups</b> and click <b>Add group</b>, supply the name <b>ROLE_ADMIN</b> and then click <b>Save</b>.</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA9.png" style="width: 769px;height: 317px;" />
                        </p>
                    </li>
                    <li>
                        <p>From the drop-down of <b>Group source type</b>, select <b>Okta groups</b>.&#160;The ROLE_ADMIN group will be in the list.</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA10a.png" style="width: 775px;height: 387px;" />
                        </p>
                    </li>
                    <li>
                        <p>To assign users to ROLE_ADMIN (or any other created group) on the left side menu, go to <b>Directory</b> then <b>People</b> and choose users from the list of users. Click the user. To switch the users groups, type the group name and then click enter.</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA11.png" style="width: 617px;height: 358px;" />
                        </p>
                    </li>
                    <li>
                        <p>Now the <b>access token claims</b> have to be customized so it will have groups used in Smart DIH. &#160;To accomplish this, on the left side menu go to <b>Security</b> then <b>API</b> and on the API screen, <b>Authorization Servers</b>:</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA12.png" style="width: 684px;height: 472px;" />
                        </p>
                    </li>
                    <li>
                        <p>Select the server that is being used and go to the <b>Claims</b> tabs then <b>Access</b>:</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA13.png" style="width: 703px;height: 382px;" />
                        </p>
                    </li>
                    <li>
                        <p>Click <b>Add Claim</b> and input a name for the Claim. In the <b>Value type</b> drop-down select <b>Groups</b>. For <b>Filter</b>, provide the filter to be applied. In this example, only groups with the ROLE_ prefix should be used. Click <b>Create</b>.</p>
                        <div class="tc-admon-note">
                            <p>The name of the claim will be used in SpaceDeck in the IDP Setup, for the setting of <a href="spacedeck-admin.html#IDPConnectionFields">Authorization Grant Type</a></p>
                        </div>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA14.png" style="width: 503px;height: 397px;" />
                        </p>
                        <p>In SpaceDeck:</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA15.png" style="width: 694px;height: 238px;" />
                        </p>
                    </li>
                    <li>
                        <p>In order to bind the IDP that has been created above, the root user has to login to SpaceDeck with the correct username/password and then populate all the <a href="spacedeck-admin.html#IDPConnectionFields">Connection fields</a> in the Administration/General Setup menu. </p>
                        <div class="tc-admon-important">
                            <p>By default, the root user has root/password credentials. &#160;<b>This must be changed before installation.</b></p>
                        </div>
                    </li>
                    <p>
                        <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA16.png" style="width: 491px;height: 357px;" />
                    </p>
                    <li>
                        <p>After clicking LOGIN, the user will be redirected to the Okta login form to provide credentials:</p>
                        <p>
                            <img src="../Resources/Images/SpaceDeck/16.4/Admin-OKTA17.png" />
                        </p>
                    </li>
                </ol>
            </div>
            <div title="AWS Azure IDP Setup">
                <p>AWS Azure IDP is set up..........</p>
            </div>
        </div>
        <p>&#160;</p>
        <p>&#160;</p>
    </body>
</html>