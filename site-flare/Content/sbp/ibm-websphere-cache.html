<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
<head></head>
<body>
<h1>XAP Integration WebSphere Dynamic Cache</h1>
  

<table>
<thead>
<tr>
<th>Author</th>
<th>XAP Version</th>
<th>Last Updated</th>
<th>Reference</th>
<th>Download</th>
</tr>
</thead>

<tbody>
<tr>
<td>Allen Terleto</td>
<td>9.7</td>
<td>September 2014</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<h1><a name="introduction">&#160;</a>Introduction</h1>

<p>IBM provides an embedded cache called Dynamic Cache (DynaCache) as a feature of their WebSphere Application Server. By utilizing a caching-strategy applications can bypass the latency-costs of processing web services, business logic, data access, network &amp; IO overhead, etc. DynaCache is the underlying caching strategy for many of the WebSphere-based family of products such as:</p>

<p>•   WebSphere Commerce Server <br/>
•   WebSphere Portal Server  <br/>
•   WebSphere Enterprise Service Bus <br/>
•   Business Process Manager    <br/>
•   WebSphere Application Server</p>

<p>WebSphere allows administrators to configure the Dynamic Cache Service to use GigaSpace’s XAP IMDG as its alternative Cache Provider instead of the default DynaCache. GigaSpaces XAP enhances WebSphere’s caching strategy by providing:</p>

<p>•   Elastic Scalability <br/>
•   High availability <br/>
•   Transactional Support <br/>
•   Event Processing <br/>
•   Persistency <br/>
•   Filtering   <br/>
•   Big Data Integration  <br/>
•   Security       <br/>
•   Enhanced Monitoring Capabilities <br/>
•   Distributed and Centralized System of Record  <br/>
•   HTTP Session Sharing (across various Web Containers) <br/>
•   Replication across multiple Data Centers<br/>
•   Other XAP Features…</p>

<p>GigaSpace’s XAP features increase the capabilities of WebSphere’s DynaCache beyond the limitations of the default dynamic cache engine and data replication service. While DynaCache can only provide caching across replicated and synchronized WebSphere application servers, GigaSpaces XAP provides a truly distributed and remote caching architecture. WebSphere administrators no longer need to worry about data loss due to cluster failures, redeployments and upgrades. Additionally, scaling the Data Cache Tier will no longer be a function of adding additional WebSphere Application Server instances.</p>

<p>If you are currently using DynaCache, you can simply use the administrative console or wsadmin commands to replace WebSphere’s default cache provider with GigaSpace’s XAP. You do not have to make any changes to the code interacting with the default dynamic cache or caching data model. In the Demo: Step-By-Step Walkthrough section we will show how to switch to GigaSpace’s XAP IMDG in just a few configuration changes.</p>

<div class="tc-admon-refer">
  
  <p>Please read the GigaSpaces XAP Integration with <a href="/download_files/sbp/DynamicCache.pdf">IBM Dynamic Cache</a> document for a detailed walk through and additional introduction information.</p>
</div>

<h1><a name="demo-requirements">&#160;</a>Demo Requirements</h1>

<p>The following technology is required to run this demo</p>

<p>An Application Server from the WebSphere Family <br/>
•   WebSphere Application Server 7+    <br/>
•   WebSphere Enterprise Service Bus  <br/>
•   IBM Integration Bus  <br/>
•   IBM WebSphere Process Server</p>

<h4><a name="an-ibm-ide-br">&#160;</a>An IBM IDE<br/></h4>

<p>•   Rational Application Developer<br/>
•   IBM Integration Designer</p>

<h4><a name="gigaspaces-software-br">&#160;</a>GigaSpaces Software <br/></h4>

<p>•   GigaSpaces <a href="http://www.gigaspaces.com/xap-download">XAP Premium Edition 9+</a> <br/>
•   <a href="/download_files/sbp/GigaSpacesDynaCacheIntegration.jar">GigaSpacesDynaCacheIntegration.jar</a> <br/>
•   <a href="/download_files/sbp/GigaDynaCacheTestWeb.war">GigaDynaCacheTestWeb.war</a></p>

<h1><a name="run-demo-with-dynamic-cache-as-websphere-caching-provider">&#160;</a>Run Demo with Dynamic Cache as WebSphere Caching Provider</h1>

<div class="row"><div class="easyui-accordion" data-options="selected:'-1'" plain="true"><div title="Create New Dynamic Cache Resource" style="padding:10px;"><p>Step 1: Enter the name and JNDI specified below</p>

<p><img src="/attachment_files/dynacache/cache3.png" alt="drools1" /></p>

<p>Step 2: Add new property “com.ibm.ws.cache.CacheConfig.showObjectContents=true”</p>

<p><img src="/attachment_files/dynacache/cache4.png" alt="drools1" /></p>
</div>

<div title="Deploy Dynamic Cache Monitor " style="padding:10px;"><p>Step 1: Expand “Applications” -&gt; “Application Types” and Click on “Websphere enterprise applications”.
On the “Enterprise Applications” screen, click the “Install” button</p>

<p><img src="/attachment_files/dynacache/cache5.png" alt="drools1" /></p>

<p>Step 2: Browse into your Websphere installation /AppServer/installableApps, Click on CacheMonitor.ear</p>

<p><img src="/attachment_files/dynacache/cache6.png" alt="drools1" /></p>

<p>Step 3: Download IBM Extended Cache Monitor from IBM’s offical site.
Extract the contents of cachemonitor7_package into any temp directory or onto your desktop</p>

<p><img src="/attachment_files/dynacache/cache7.png" alt="drools1" /></p>

<p>Step 4: In your admin console, click the checkbox near “Dynamic Cache Monitor” and Click “Update”</p>

<p><img src="/attachment_files/dynacache/cache8.png" alt="drools1" /></p>

<p>Step 5: Choose “Replace, add, or delete multiple files” and browse for “cachemonitor7_update.zip”</p>

<p><img src="/attachment_files/dynacache/cache9.png" alt="drools1" /></p>
</div>

<div title="Setup Dynamic Cache Monitor Security " style="padding:10px;"><p>Step 1: In the “Enterprise Applications” screen, click on the link named “Dynamic Cache Monitor”. Click Search. Find your User ID in the Available List, click on it and then click on the Right arrow</p>

<p><img src="/attachment_files/dynacache/cache10.png" alt="drools1" /></p>

<p>Step 2: Open an Internet Browser and go to <code>http://localhost:9082/cachemonitor</code>
Enter your User ID and Password then Click OK.</p>

<p><img src="/attachment_files/dynacache/cache11.png" alt="drools1" /></p>

<p>Step 3: Find the Object Cache you created earlier “cache/demo” and Click OK.</p>

<p><img src="/attachment_files/dynacache/cache12.png" alt="drools1" /></p>
</div>

<div title="Deploy Demo Application" style="padding:10px;"><p>Step 1: Expand “Applications” -&gt; “Application Types” and Click on “Websphere enterprise applications”.
On the “Enterprise Applications” screen, click the “Install” button</p>

<p><img src="/attachment_files/dynacache/cache13.png" alt="drools1" /></p>

<p>Step 2: Browse for the “GigaDynaCacheTestWeb.war” in your local directory and Click “Next”.
Continue to Click “Next” until the summary page. Then click “Finish” and “Save”</p>

<p><img src="/attachment_files/dynacache/cache14.png" alt="drools1" /></p>
</div>

<div title="Test Demo Application using Dynamic Cache" style="padding:10px;"><p>Step 1: Open an Internet Browser and go to <code>http://localhost:9082/GigaDynaCacheTestWeb/DynaCacheTestServlet</code></p>

<p><img src="/attachment_files/dynacache/cache15.png" alt="drools1" /></p>

<p>Step 2: Go back to the Cache Monitor Page and click “Refresh Statistics”
<img src="/attachment_files/dynacache/cache16.png" alt="drools1" /></p>
</div>

<p><br/></p>

<h1><a name="run-demo-with-gigaspaces-xap-as-websphere-caching-provider">&#160;</a>Run Demo with GigaSpaces’ XAP as WebSphere Caching Provider</h1>

<div title="Add GigaSpaces Jars to IBM Extension Classloader" style="padding:10px;"><p>Step 1: Scroll down to find the Server Infrastructure Section. Expand “Java and Process Management”.
Then click on “Process definition”</p>

<p><img src="/attachment_files/dynacache/cache17.png" alt="drools1" /></p>

<p>Step 2: Click on “Java Virtual Machine”
<img src="/attachment_files/dynacache/cache18.png" alt="drools1" /></p>

<p>Step 3: Add a new custom properties pointing to the directory with the XAP jars  “ws.ext.dirs= C:\Gigaspaces\gigaspaces-xap-premium-9.7.0-ga\lib\required;C:\temp\custom\GigaSpacesDynaCacheIntegration.jar”</p>

<p><img src="/attachment_files/dynacache/cache19.png" alt="drools1" /></p>
</div>

<div title="Configure GigaSpaces’ XAP as Alternative WebSphere Caching Provider" style="padding:10px;"><p>Step 1: Choose “GigaSpaces XAP” from the dropdown choices of “Cache provider”. Click “OK” and “Save”</p>

<p><img src="/attachment_files/dynacache/cache20.png" alt="drools1" /></p>

<p>Step 2: Click on custom properties and add the following:<br/>
•   com.ibm.ws.cache.CacheConfig.cacheProviderName=com.ibm.ws.objectgrid.dynacache.CacheProviderImpl  <br/>
•   xap.space.url=jini://<span class="tc-italic">/</span>/mySpace?groups=myGroup</p>

<p><img src="/attachment_files/dynacache/cache21.png" alt="drools1" /></p>
</div>

<div title="Start XAP Runtime Environment" style="padding:10px;"><p>Step 1: Run gs-agent from your XAP bin directory</p>

<p><img src="/attachment_files/dynacache/cache22.png" alt="drools1" /></p>

<p>Step 2: Run gs-ui from the same directory</p>

<p><img src="/attachment_files/dynacache/cache23.png" alt="drools1" /></p>

<p>Step 3: Deploy a new Data Grid called “mySpace” with any SLA</p>

<p><img src="/attachment_files/dynacache/cache24.png" alt="drools1" /></p>

<p>Step 4: Confirm that there are no entries in the cache using the “Space Browser” tab</p>

<p><img src="/attachment_files/dynacache/cache25.png" alt="drools1" /></p>
</div>

<div title="Test Demo using XAP as Caching Provider" style="padding:10px;"><p>Step 1: Open an Internet Browser and go to <code>http://localhost:9082/GigaDynaCacheTestWeb/DynaCacheTestServlet</code></p>

<p><img src="/attachment_files/dynacache/cache26.png" alt="drools1" /></p>

<p>Step 2: Check the gs-ui to confirm that a new entry is in the Space</p>

<p><img src="/attachment_files/dynacache/cache27.png" alt="drools1" /></p>
</div>
</div></div>

</body>
</html>