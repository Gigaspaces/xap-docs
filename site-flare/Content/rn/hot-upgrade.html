<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Version.16-3-born">
    <head>
    </head>
    <body>
        <div class="product-bar">
            <p><a><MadCap:variable name="General.ProductXAP" /></a>
            </p>
        </div>
        <h1 class="tc-pagetitle">Hot&#160;Upgrade</h1>
        <h1>Hot Upgrade - Supported Change&#160;Types</h1>
        <p>These are the supported changes types:</p>
        <ul>
            <li>
                <p>Changes in PU&#160;business logic</p>
            </li>
            <li>
                <p>Changes in Data type schema</p>
            </li>
            <li>
                <p>Change in GS&#160;version</p>
            </li>
            <li>
                <p>Changes in host OS or Java version</p>
            </li>
        </ul>
        <div class="tc-admon-note">
            <p>In order to have the ability for hot upgrade, HA&#160;is a must. This includes backup instances and, in the case of Java/OS change manager as well.</p>
        </div>
        <h2>Hot Upgrade for Stateful&#160;Services</h2>
        <p>By following this method, minimal impact is ensured:</p>
        <ol>
            <li>
                <p>If the upgrade requires a machine restart, it is important to ensure that the machine contains only backups. This is achieved by demoting primaries. This is important in order to reduce the impact on production.</p>
            </li>
            <li>
                <p>Perform the upgrade.</p>
            </li>
            <li>
                <p>In order to use the new version, restart the GSCs which hold the backup instances.</p>
            </li>
            <li>
                <p>After all the backups are fully recovered from the primaries, demote the existing primaries and restart their containers.</p>
            </li>
        </ol>
        <h2>Hot Upgrade for Managers</h2>
        <ul>
            <li>
                <p>Managers should be restarted one by one.</p>
            </li>
            <li>
                <p>Validate that each manager is fully recovered from the previous version before continuing to restart other manager.</p>
            </li>
        </ul>
        <h2>Hot Upgrade for New GS/OS/Java Version</h2>
        <p>Following is the procedure for performing hot upgrade for new GS/OS/Java versions:</p>
        <ol>
            <li>
                <p>Install the new version on one of the hosts</p>
            </li>
            <li>
                <p>Demote all spaces on this host, so it only contains backups</p>
            </li>
            <li>
                <p>Stop GS on this host</p>
            </li>
            <li>
                <p>Start GS  from the new installation</p>
            </li>
            <li>
                <p>See that backups in this host recover from the primaries and are active.</p>
            </li>
            <li>
                <p>If it is a manager machine check that it reconnects to the other managers.</p>
            </li>
            <li>
                <p>Do the same for the next host.</p>
            </li>
            <li>
                <p>Re-balance primaries &amp; backups.</p>
            </li>
        </ol>
    </body>
</html>