<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <map id="map1">
            <area shape="rectangle" coords="31,228,438,655" dragDirection="0" />
            <area shape="rectangle" coords="486,228,891,656" dragDirection="0" href="../spacedeck/gs-ops-manager-cluster-overview.html" />
            <area shape="rectangle" coords="940,227,1349,656" dragDirection="0" />
        </map>
        <h1 class="tc-pagetitle">Smart DIH&#160;Kubernetes Installation</h1>
        <p>This is an installation guide for Smart DIH in H/A mode. Upon completion of this guide, the user will have a functional Smart DIH together with the ability to operate is using the <a href="../spacedeck/spacedeck-overview.html">SpaceDeck UI</a></p>
        <p>.</p>
        <div class="tc-admon-important">
            <p>Smart DIH is protected by license. The initial step of this installation is signing up and agreeing to the terms and conditions found in the Free Trial (Smart DIH) link found at the top of each page of the <a href="../landing-new.html">documentation site</a>. After signing up, you will receive a token. This token should be used, when requested, in the installation steps below.</p>
            <p>&#160;</p>
            <p>Contact <a href="mailto:support@gigaspaces.com">customer support</a> to obtain a license for IIDR (<code class="language-bash">gsSecret.yaml</code>) and for assistance for this installation.</p>
        </div>
        <h1>Prerequisites</h1>
        <p>Following are the prerequisites required for deploying Smart&#160;DIH using&#160;Kubernetes.</p>
        <ul>
            <li>
                <p>Kubernetes cluster version &gt;1.22</p>
            </li>
            <li>
                <p>At least a total of 20GB and 10 vCPU</p>
            </li>
            <li>
                <p>Kubectl Controller installed and configured:</p>
                <ul style="list-style-type: circle;">
                    <li>
                        <p>Ingress controller installed (see <a href="#AppendixA">Appendix A</a>)</p>
                    </li>
                    <li>
                        <p>A load balancer that is securely exposed to the internet and connected to the ingress controller</p>
                    </li>
                    <li>
                        <p>DNS setup with a certificate for a secure connection. The instructions below assume the host name to be <b>myhost.com</b>.</p>
                    </li>
                </ul>
            </li>
        </ul>
        <h1>Instructions</h1>
        <ol>
            <li>
                <p>Use the <code class="language-bash">gsSecret.yaml</code> you got from <MadCap:variable name="General.ProductNameXAP" /> to install the software token.</p>
            </li>
            <li> Get the Smart DIH&#160;Helm repo and update:</li><pre xml:space="preserve">helm repo add dih <a href="https://resources.gigaspaces.com/helm-charts-dih">https://resources.gigaspaces.com/helm-charts-dih</a> 

helm repo update dih
</pre>
            <li>
                <p>Fully install Smart DIH:</p>
            </li><pre xml:space="preserve">helm install dih dih/dih dih --version 16.3.0 </pre>
            <li>
                <p>Set the following flags:</p><pre xml:space="preserve">helm upgrade dih dih/dih --version  spacedeck.auth.enabled=true
manager.securityService.enabled=true
spacedeck.ingress.host=myhost.com 
tags.iidr=true
</pre>
            </li>
            <li>
                <p>Smart DIH is now installed in H/A mode. The following pods should be up and ready:</p>
                <p>
                    <img src="../Resources/Images/K8s_Install.png" />
                </p>
            </li>
            <li>
                <p>Connect to the SpaceDeck at <code class="language-bash">https://myhost.com/</code></p>
            </li>
        </ol>
        <h1>Next Steps</h1>
        <ol>
            <li>
                <p>Install the agent for the required data sources: <MadCap:xref href="../Data Integration/DI-Prerequisites.html">DI&#160;Agent Installation: Prerequisites</MadCap:xref></p>
            </li>
            <li>
                <p>Use <a href="../spacedeck/spacedeck-overview.html">SpaceDeck</a> to define spaces, data sources and pipelines. </p>
            </li>
        </ol>
        <h1><a name="AppendixA"></a>Appendix A</h1>
        <p>An ingress controller is required as part of the Smart DIH&#160;installation. Instructions for NGINX controller installation can be found through this link: </p>
        <p><a href="https://docs.nginx.com/nginx-controller/admin-guides/install/install-nginx-controller/">https://docs.nginx.com/nginx-controller/admin-guides/install/install-nginx-controller/</a>
        </p>
        <p>It is best practice to install NGINX in a different name-space.</p>
        <p>&#160;</p>
    </body>
</html>